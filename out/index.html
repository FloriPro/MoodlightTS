<!DOCTYPE html>
<html lang="de">

<head>
    <style>
        @font-face {
            font-family: 'msyi';
            src: url('msyi.ttf');
        }

        .ColorSelContainer {
            padding: 1px;
        }

        .ColorSelButton {
            width: 58px;
            height: 58px;
        }

        button {
            background-color: rgb(210, 210, 210);
            color: black;
            border: none;
            padding: 6px 11px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 18px;
            cursor: pointer;
        }

        button:hover {
            background-color: rgb(190, 190, 190);
        }
    </style>
    <meta charset="utf-8" />
    <title>Easy Edit HTML</title>

    <!--mqtt-->
    <script src="/mqttws31.min.js"
        type="text/javascript"></script>

    <!--jqu ery-->
    <script src="/jquery-3.6.0.min.js" type="text/javascript"></script>

    <!--spectrunm-->
    <script src="/spectrum.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="spectrum.css">

</head>

<body style="margin:0px;overflow: hidden;" oncontextmenu="return false;" onselectstart="return false;"
    ondragstart="return false;">
    <div id="pictureEdit">
        <div style="background: transparent; position: fixed; display: flex;flex-wrap: wrap;align-items: flex-start;">
            <div>
                <table style="border-collapse: collapse;">
                    <tbody id="colorSelTable">
                    </tbody>
                </table>
                <div id="multiPage">
                    <button id="arrow0" onclick="
                        if (page>0){
                            console.log(page);
                            page-=1;
                            loadPictureVal(pictureValues[page]);
                        }"> ⬅
                    </button>
                    <button id="arrow1" onclick="
                        if (page<pictureValues.length-1){
                            console.log(page);
                            page+=1;
                            loadPictureVal(pictureValues[page]);
                        }">
                        ➡
                    </button><br>
                    <button
                        onclick="pictureValues.push(pictureString2Value('000000'.repeat(moodLightSizeX*moodLightSizeY)));page=pictureValues.length-1;loadPictureVal(pictureValues[page]);">Seite
                        Hinzufügen</button>
                    <button onclick="">Seite Löschen</button>
                    <h3 id="pageTeller">Seite X/X</h3>
                </div>
            </div>
            <div>
                <!--Colorpicker-->
                <div>
                    <input onclick="return true;" type="text" value="#ff0000" id="color" placeholder="HEX Farbe"
                        onchange='colorPicker.spectrum("set", this.value);'><br>

                    <input id='colorpicker' />
                    <script>
                        $("#colorpicker").spectrum({
                            color: "#ff0000",
                            preferredFormat: "hex",
                            showInitial: true,
                            showAlpha: false,
                            flat: true,
                            showButtons: false,
                            change: function (color) { document.getElementById("color").value = color; },
                            move: function (color) { document.getElementById("color").value = color; },
                            //showInput: true,
                        });
                    </script>
                </div>

                <!--Buttons-->
                <div>
                    <button
                        onclick='send(rgb2hex(colorPicker.spectrum("get")._r, colorPicker.spectrum("get")._g, colorPicker.spectrum("get")._b).repeat(moodLightSizeX*moodLightSizeY));'>Farbe
                        Ausprobieren</button><br>
                    <button onclick="send(pictureValue2String(pictureValues[page]));">Bild Anzeigen</button><br>
                    <button onclick="waitingForMQTTPic=true;send('&');">Bild von Moodlight Laden</button><br>
                    <!--<label name="autoSend">Automatisch Bild senden</label>
                    <input type="checkbox" name="autoSend"><br>-->

                    <br>

                    <button onclick="send('L--');">Animation auf Moodlight Stoppen</button><br>
                    <button onclick="compileAnimation(pictureValues,10,0);">Animation auf Moodlight Laden</button><br>

                    <br>

                    <button onclick="send('');">Speichern</button><br>
                    <button onclick="send('');">Laden</button><br>

                    <br>

                    <button onclick="finishPicture();">Fertig</button>
                </div>
            </div>
        </div>
    </div>

    <canvas id="canvas" style="cursor:default; margin:0px; height:100%; width:100%;">Jo, dein Browser is echt
        schei*e</canvas>
    <div id="hider"
        style="position:absolute;z-index:100;left:0%;top:0;background: white;width: 100%;height: 100%; opacity: 0%;pointer-events: none">
    </div>

    <input type="file" id="projectLoader" name="projectLoader" accept=".moproj" style="display: none;">
</body>

<!--main script-->
<script src="main.js"></script>
<script src="utilitys.js"></script>
<script src="compiler.js"></script>

</html>