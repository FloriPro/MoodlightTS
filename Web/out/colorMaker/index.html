<!DOCTYPE html>
<html lang="de">

<head>
    <title>Color Maker | MoodlightTS</title>
    <style>
        @font-face {
            font-family: 'msyi';
            src: url('/msyi.ttf');
        }

        .grayed {
            color: lightgray;
        }
    </style>

    <!--jquery-->
    <script src="/jquery-3.6.0.min.js" type="text/javascript"></script>

    <!--spectrunm-->
    <script src="/spectrum.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="/spectrum.css">
</head>

<body style="font-family: msyi;">
    <h1>Color Maker</h1>
    <button onclick="load(JSON.parse(prompt('colorJson')));">import</button>
    <div style="display: flex;">
        <table>
            <tbody id="colors">
            </tbody>
        </table>
        <div>
            <textarea id="out" rows="30" cols="100">loading... I hope :)</textarea>
        </div>
    </div>
</body>



<script>
    let unused = ["backgroundPoints"]
    let colors = { "background": "#fcfcfc", "backgroundPoints": "#646464", "blockArgBackground": "#ffffff", "blueBlock": "#0082ff", "blueBlockAccent": "#0056aa", "YellowBlock": "#ffd000", "YellowBlockAccent": "#aa8a00", "PurpleBlock": "#d900ff", "PurpleBlockAccent": "#9000aa", "MoveBlockShaddow": "#b0b0b0", "EditMenu": "#d0f7e9", "EditMenuAccent": "#7bc9ac", "NormalText": "#000000", "MenuButtons": "#000000", "MenuBackground": "#000000", "MenuText": "#ffffff", "settingsBoolTrue": "#00ff00", "settingsBoolFalse": "#ff0000", "settingsSelMouseOver": "#d2d2d2", "settingsSelStandard": "#dcdcdc", "settingsSelSelected": "#c8c8c8", "backgroundBlur": "#000000", "settingsBackground": "#ffffff", "settingsBackgroundHighlight": "#f0f0f0", "questionRedBackgroundBlur": "#960000", "questionBackground": "#aaaaaa", "objectSidebarBlur": "#c0c0c0", "ProjectName": "#4287f5" };
    let colorsK = Object.keys(colors);
    load(colors);

    function load(colors) {
        document.querySelector("#colors").innerHTML = "";

        var colorsK = Object.keys(colors);
        for (var x = 0; x < colorsK.length; x++) {
            var d = "";
            if (!unused.indexOf(colorsK[x])) { d = "grayed" }
            document.querySelector("#colors").innerHTML += `
            <tr class="color `+ d + `">
                <td>
                    <h3>`+ colorsK[x] + `:</h3>
                </td>
                <td>
                    <input onchange="update();" type="color" id="`+ x + `" value="` + colors[colorsK[x]] + `"/>
                </td>
            </tr>
            `;
        }
        update()
    }
    function update() {
        var out = { ...colors };
        for (var x = 0; x < colorsK.length; x++) {
            out[colorsK[x]] = document.getElementById(x).value;
        }
        document.getElementById("out").innerText = JSON.stringify(out);
    }

</script>

</html>